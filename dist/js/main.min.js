const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger--btn, .header__nav, body"),burger=document.querySelector(".header__burger--btn"),header=document.querySelector(".header"),headerNav=header.querySelector(".header__nav");function isHidden(e){return null===e.offsetParent}function scheme(e){document.querySelectorAll(".scheme").forEach(t=>{if(!isHidden(t)&&!t.classList.contains("_init")||!isHidden(t)&&1==e){const e=t.querySelector(".scheme-body"),n=t.querySelectorAll(".scheme-item"),o=t.querySelector(".scheme-main-item"),s=t.querySelector(".scheme-lines");let i=o.getBoundingClientRect(),r=e.getBoundingClientRect();for(let e=0;e<n.length;e++)n[e].classList.remove("_rendered"),n[e].style.left=0,n[e].style.top=0;for(let s=0;s<n.length;s++){let c=window.innerWidth>=769?n[s].offsetWidth/5:30;if("left"==n[s].dataset.posX){let e=t.querySelectorAll('.scheme-item._rendered[data-pos-x="left"][data-pos-y="bottom"]'),l=t.querySelectorAll('.scheme-item._rendered[data-pos-x="left"][data-pos-y="center"]'),a=t.querySelectorAll('.scheme-item._rendered[data-pos-x="left"][data-pos-y="top"]');if(e[0]&&"bottom"==n[s].dataset.posY){let t=e[e.length-1].getBoundingClientRect();n[s].style.left=t.x-r.x-o.offsetWidth-c+"px"}else if(l[0]&&"center"==n[s].dataset.posY){let e=l[l.length-1].getBoundingClientRect();n[s].style.left=e.x-r.x-o.offsetWidth-c+"px"}else if(a[0]&&"top"==n[s].dataset.posY){let e=a[a.length-1].getBoundingClientRect();n[s].style.left=e.x-r.x-o.offsetWidth-c+"px"}else n[s].style.left=i.x-r.x-o.offsetWidth-c+"px";n[s].classList.add("_rendered")}else if("center"==n[s].dataset.posX)n[s].style.left=i.x-r.x+"px";else if("right"==n[s].dataset.posX){let e=t.querySelectorAll('.scheme-item._rendered[data-pos-x="right"][data-pos-y="bottom"]'),l=t.querySelectorAll('.scheme-item._rendered[data-pos-x="right"][data-pos-y="center"]'),a=t.querySelectorAll('.scheme-item._rendered[data-pos-x="right"][data-pos-y="top"]');if(e[0]&&"bottom"==n[s].dataset.posY){let t=e[e.length-1].getBoundingClientRect();n[s].style.left=t.x-r.x+o.offsetWidth+c+"px"}else if(l[0]&&"center"==n[s].dataset.posY){let e=l[l.length-1].getBoundingClientRect();n[s].style.left=e.x-r.x+o.offsetWidth+c+"px"}else if(a[0]&&"top"==n[s].dataset.posY){let e=a[a.length-1].getBoundingClientRect();n[s].style.left=e.x-r.x+o.offsetWidth+c+"px"}else n[s].style.left=i.x-r.x+o.offsetWidth+c+"px";n[s].classList.add("_rendered")}"top"==n[s].dataset.posY?n[s].style.top=e.offsetHeight/2-2*n[s].offsetHeight-o.offsetHeight+"px":"center"==n[s].dataset.posY?n[s].style.top="44%":"bottom"==n[s].dataset.posY&&(n[s].style.top=o.offsetHeight/4+e.offsetHeight/2+"px")}!function(){i=o.getBoundingClientRect();let t=o.querySelector(".person__scheme--icon"),c=i.x-r.x+(t.offsetWidth/2+5),l=i.y-r.y+t.offsetWidth/2;s.innerHTML="";for(let t=0;t<n.length;t++){let o=n[t].getBoundingClientRect(),i=e.getBoundingClientRect(),r=n[t].querySelector(".person__scheme--icon"),a=o.x-i.x+(r.offsetWidth/2+15),d=o.y-i.y+(r.offsetWidth/2+15);s.insertAdjacentHTML("beforeend",`<line x1="${a}" y1="${d}" x2="${c}" y2="${l}" stroke="#212121" stroke-dasharray="5,2.5" stroke-width="1"/>`)}}();let c,l=0,a=0;const d=function(e){scrollLock.disablePageScroll(),c={startPosX:"mousedown"==e.type?e.clientX:e.changedTouches[0].clientX,startPosY:"mousedown"==e.type?e.clientY:e.changedTouches[0].clientY},"touchstart"==e.type&&body.classList.add("_active"),document.addEventListener("mousemove",u),document.addEventListener("mouseup",p),document.addEventListener("touchmove",u),document.addEventListener("touchend",p)},u=function(t){let n,o;"mousemove"==t.type&&(n=t.clientX,o=t.clientY),"touchmove"==t.type&&(n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY),window.innerWidth>=769?e.style.transform=`translate(calc(-52% + ${l+n-c.startPosX}px), calc(-50% + ${a+o-c.startPosY}px))`:e.style.transform=`translate(calc(-47.5% + ${l+n-c.startPosX}px), calc(-47.5% + ${a+o-c.startPosY}px))`};t.addEventListener("dblclick",(function(){window.innerWidth>=769?e.style.transform="translate(calc(-50% + 0px), calc(-50% + 0px))":e.style.transform="translate(calc(-47.5% + 0px), calc(-50% + 0px))",l=0,a=0}));const p=function(e){let t,n;"mouseup"==e.type&&(t=e.clientX,n=e.clientY),"touchend"==e.type&&(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY),l=l+t-c.startPosX,a=a+n-c.startPosY,"touchend"==e.type&&body.classList.remove("_active"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",p),scrollLock.enablePageScroll()};t.addEventListener("mousedown",d),t.addEventListener("touchstart",d),t.classList.add("_init")}})}function Popup(e){let t=document.querySelector("body"),n=document.querySelector("html"),o="object"==typeof e&&e.duration?e.duration:200,s="object"==typeof e&&!!e.saveHref,i=!0,r=!0;const c=function(e){if(i){i=!1;let r=document.querySelector(e);if(!r)return new Error(`Not found "${e}"`);t.classList.remove("_popup-active"),n.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),s&&history.pushState("","",e),setTimeout(()=>{r.classList.add("_active")},0),FX.fadeIn(r,{duration:o,complete:function(){i=!0,scheme(),t.classList.add("_blur")}})}},l=function(e){if(r){let i;r=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),setTimeout(()=>{i.classList.remove("_active")},0),FX.fadeOut(i,{duration:o,complete:function(){i.style.display="none";const e=document.querySelectorAll(".popup._active");t.classList.remove("_blur"),e.length<1&&(t.classList.remove("_popup-active"),n.style.setProperty("--popup-padding","0px")),s&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),e[e.length-1]&&history.pushState("","","#"+e[e.length-1].getAttribute("id"))),r=!0}})}};return{open:function(e){c(e)},close:function(e){l(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let n=e.closest(".open-popup");n&&(t.preventDefault(),c(n.getAttribute("href")));let o=e.closest(".popup-close");o&&l(o)})),s){let e=new URL(window.location);if(e.hash){let t=o;o=0,c(e.hash),setTimeout(()=>{o=t},t)}}}}}scheme(),function(){var e={easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,n=setInterval((function(){var o=(new Date-t)/e.duration;o>1&&(o=1),e.progress=o;var s=e.delta(o);e.step(s),1==o&&(clearInterval(n),e.complete())}),e.delay||10)},fadeOut:function(t,n){this.animate({duration:n.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:n.complete,step:function(e){t.style.opacity=1-e}})},fadeIn:function(t,n){t.style.display="block",this.animate({duration:n.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:n.complete,step:function(e){t.style.opacity=0+e}})}};window.FX=e}();const popup=new Popup;popup.init(),body.addEventListener("click",(function(e){const t=(n=".header__burger--btn",e.target.closest(n));var n;t&&(t.classList.contains("_changing")||(t.classList.add("_changing"),menu.forEach(e=>{e.classList.toggle("_active")}),setTimeout(()=>{t.classList.remove("_changing")},1e3),headerNav.classList.contains("_active")||(headerNav.classList.add("_hiding"),setTimeout(()=>{headerNav.classList.remove("_hiding"),t.classList.remove("_changing")},500))))}));let windowSize,resizeCheck={};function resizeCheckFunc(e,t,n){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,n()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--width-scrollbar",window.innerWidth-body.offsetWidth+"px"),resizeCheckFunc(768,(function(){scheme(!0)}),(function(){scheme(!0)}))}resize(),window.onresize=resize;let articlesSlider=new Swiper(".articles__slider--body",{spaceBetween:15,slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".articles__slider .swiper-button-next",prevEl:".articles__slider .swiper-button-prev"}});function delayAnimation(e,t){e=1e3*e.replace("s",""),setTimeout(()=>{t.classList.add("decor-span_active")},e)}document.querySelectorAll(".decor-span").forEach(e=>{let t=e.getAttribute("data-decor-delay");t&&delayAnimation(t,e)}),document.querySelector(".decor-letters").classList.add("decor-letters_active");